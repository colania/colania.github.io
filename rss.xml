<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="https://newzone.top/rss.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://newzone.top/rss.xml" rel="self" type="application/rss+xml"/>
    <title>田野梦呓</title>
    <link>https://newzone.top/</link>
    <description>探索、经历、思考、归纳、自我提升，记录并输出一切能让自己提升的知识。</description>
    <language>zh-CN</language>
    <pubDate>Sun, 12 Nov 2023 14:39:29 GMT</pubDate>
    <lastBuildDate>Sun, 12 Nov 2023 14:39:29 GMT</lastBuildDate>
    <generator>vuepress-plugin-feed2</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <category>工作英语</category>
    <category>行业追踪</category>
    <category>coding</category>
    <item>
      <title>2023年第46周周记</title>
      <link>https://newzone.top/daily/2023-11-11.html</link>
      <guid>https://newzone.top/daily/2023-11-11.html</guid>
      <source url="https://newzone.top/rss.xml">2023年第46周周记</source>
      <description>下雪了 1. 下雪啦!!!! 西安上周还在穿半袖，这周就突然降温，然后在双十一今天，开始下大雪了！！ 甚至还有冬雷！在我印象里面好像没怎么见过冬天打雷的天气。有民间谚语说 立冬雷发声，秋粜贵。冬雷震动，万物不成，虫不藏，常兵起。冬至日雷，天下大兵，盗贼横行。 在如今多事之秋的日子里，感觉冬雷好像蛮应景的。期望明年能够一帆风顺。 想开车去秦岭看雪，想去山里滑雪，想去泡温泉。 2. 双十一购物清单</description>
      <pubDate>Sat, 11 Nov 2023 08:46:46 GMT</pubDate>
      <content:encoded><![CDATA[<figure><figcaption>下雪了</figcaption></figure>

<h2> 1. 下雪啦!!!!</h2>
<p>西安上周还在穿半袖，这周就突然降温，然后在双十一今天，开始下大雪了！！ 甚至还有冬雷！在我印象里面好像没怎么见过冬天打雷的天气。有民间谚语说</p>
<blockquote>
<p>立冬雷发声，秋粜贵。冬雷震动，万物不成，虫不藏，常兵起。冬至日雷，天下大兵，盗贼横行。</p>
</blockquote>
<p>在如今多事之秋的日子里，感觉冬雷好像蛮应景的。期望明年能够一帆风顺。</p>
<p>想开车去秦岭看雪，想去山里滑雪，想去泡温泉。</p>
<h2> 2. 双十一购物清单</h2>
<p>今年双十一感觉很凄凉，之前几年就算没啥要买的东西，我也会在11.10晚上守着淘宝，掐点凑点东西，感觉不买就有点亏的那种感觉。<br>
今年给自己换了不少电子设备。</p>
<ol>
<li>iPhone11 64G -&gt; iPhone11 128G,给老婆换了一个iPhone15，然后我用她的128G的iPhone， 大容量用起来真舒服，以后再也不抠抠搜搜的买64了。</li>
<li>MacBook Pro 2017 -&gt; MacBook M2 pro. 老Mac现在用的像一头老牛，虽然还能继续干活，但是用起来有点力不从心的感觉。咬咬牙索性是换了。还是年轻的用着爽啊。。。。</li>
<li>给猫买屯的一大堆货，猫砂、猫粮、驱虫药，零食。。。一大堆东西。</li>
</ol>
<p>哦今天还买了微信读书会员年卡，希望能够物尽其用。</p>
<h2> 3. AI工具</h2>
<p>自从今年年初chatGPT爆火以后，AI工具就层出不穷。前两天OpenAI的开发者大会更是令人耳目一新，而且他们的 DALL·E 3 ，我感觉已经追上midjourney的生成效果了，还不用去写那些陌生的prompt，真的是太酷了。我已经在期待OpenAI的仿生人了。</p>
<h2> 4. 糟心事</h2>
<p>Siri是一只猫，他一到10月、11月就开始在家里乱尿，前两天发现一晚上他在床上尿了2处，气炸了....猫尿真的太臭了，这个味道又很难洗掉...</p>
]]></content:encoded>
    </item>
    <item>
      <title>系统稳定方法论</title>
      <link>https://newzone.top/code/work/onlineProblem.html</link>
      <guid>https://newzone.top/code/work/onlineProblem.html</guid>
      <source url="https://newzone.top/rss.xml">系统稳定方法论</source>
      <description>系统稳定方法论 前两天在做一次面试的时候，遇到一个问题：当你的XX服务出现线上问题，要怎么处理。当时回答的时候，没有做好梳理，回答的比较杂乱。最近就一直在想这个事情，对自己曾经处理过的一些线上事故进行了梳理，打算输出本系列文章。 1. 流程图 流程图 2. 核心关键 2.1 事前 事前就需要有&amp;quot;我在做这个系统的时候，就需要考虑到各方面的问题&amp;quot;的想法,比如说和三方交互，三方出问题怎么办；以及上游突然流量很大，我们该如何做好承压；还有更重要的一点事，我们首要保证核心主链路的正常运转，尽量不要因为代码的问题出现异常情况。（不要小看这个问题，大家有多少线上异常是因为代码bug导致的）。</description>
      <pubDate>Wed, 20 Sep 2023 08:13:21 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 系统稳定方法论</h1>
<p>前两天在做一次面试的时候，遇到一个问题：当你的XX服务出现线上问题，要怎么处理。当时回答的时候，没有做好梳理，回答的比较杂乱。最近就一直在想这个事情，对自己曾经处理过的一些线上事故进行了梳理，打算输出本系列文章。</p>
<h2> 1. 流程图</h2>
<figure><figcaption>流程图</figcaption></figure>
<h2> 2. 核心关键</h2>
<h3> 2.1 事前</h3>
<p>事前就需要有"我在做这个系统的时候，就需要考虑到各方面的问题"的想法,比如说和三方交互，三方出问题怎么办；以及上游突然流量很大，我们该如何做好承压；还有更重要的一点事，我们首要保证核心主链路的正常运转，尽量不要因为代码的问题出现异常情况。（不要小看这个问题，大家有多少线上异常是因为代码bug导致的）。</p>
<h4> 2.1.1 测试驱动开发（TDD）</h4>
<p>测试驱动开发要求在编写某个功能的代码之前先编写测试代码，然后只编写使测试通过的功能代码，通过测试来推动整个开发的进行。</p>
<p>我在过的一些互联网公司，都是做好单元测试就可以。在这种开发方式中，代码和单测用例都是开发写的，单测用例能不能通过、怎么写可以通过都是开发心知肚明的，而且在赶进度的情况下，很多单测只是测一下主流程，对于异常分支和情况都不会测试。</p>
<p>后来在跟thoughtworks的朋友聊天的时候，他们是TDD的方式进行。先将各种异常和正常输入的测试用例写好，在写自己功能代码的时候就会会将这些异常情况考虑周全。我个人觉得是比较好的一种开发模式，但是对于节奏快、业务快速调整的国内互联网公司来说，可行性不太大。</p>
<h4> 2.1.2 服务监控</h4>
<p>快速感知故障，最重要的就是系统的监控建设完善和配套的的监控系统。</p>
<p>首先要解决有无的问题，从机器、到操作系统（CPU、内存、磁盘、IO）、到各种中间件（DB、MQ、Redis）、再到应用层（JVM、接口性能、流量、业务指标）等，是否有配套的监控手段。</p>
<p>监控指标一般会有如下这些，还有一些机器性能指标。机器(容器)内存、CPU、IO等指标：<br>
</p>
<h4> 2.1.3 评估系统性能指标</h4>
<blockquote>
<p><strong>高性能和业务是强相关的</strong></p>
</blockquote>
<ol>
<li>TP99、吞吐量、延迟</li>
<li>不仅仅要了解后端的性能指标，更要对全链路性能指标有所了解</li>
<li>在实际生产环境，还会涉及 CDN 加速、ISP 路由策略、边缘计算等一系列网络工程层面的性能优化指标，你要在大脑里先建立起整个请求的链路蓝图，熟悉每个环节的性能损耗</li>
</ol>
<p>在实际的业务场景中，你要关注很多业务相关性指标，比如游戏需要关注<br>
稳定性；视频需要关注延时；电商需要关注一致性</p>
<h5> 全链路视角分析系统性能指标</h5>
<figure><figcaption>Alt text</figcaption></figure>
<h4> 2.1.4 服务治理</h4>
<p>服务治理就是老生常谈的那些微服务、网关、部署架构。</p>
<h3> 2.3 事中</h3>
<blockquote>
<p>针对处理流程中的 3 个关键环节：发现故障、恢复故障、故障分析。</p>
</blockquote>
<p>在这一阶段，非常依赖个人经验、甚至是对底层原理的掌握深度，还有一些分析工具的使用熟练度。</p>
<h4> 2.3.1 发现故障</h4>
<p>快速发现故障，取决于两个方面：</p>
<ol>
<li>对系统是否足够了解？<br>
a. 对系统架构的了解：出现问题后，你需要知道关联的上下游系统都有哪些？依赖的存储、中间件都有哪些？这样你才会形成很清晰的链路，然后去定位问题出现在哪个环节上？<br>
b. 对业务的了解：只有对业务足够了解，你才能从业务逻辑上判断它到底是不是故障？这个故障具体是哪个业务环节出问题了？然后再回到系统、服务或者代码层面去做进一步定位。</li>
<li>系统的监控建设是否足够完善<br>
a. 是否有配套的监控系统：首先要解决有无的问题，从机器、到操作系统（CPU、内存、磁盘、IO）、到各种中间件（DB、MQ、Redis）、再到应用层（JVM、接口性能、流量、业务指标）等，是否有配套的监控手段<br>
b. 对监控系统的使用是否到位了：有工具了，然后再考虑业务上如何使用好这些工具？要建立哪些监控指标？告警阈值如何进行合理设置？技术同学对于监控系统的使用是否熟练？团队是否有成熟的线上问题处理机制？</li>
</ol>
<h4> 2.3.2 快速恢复</h4>
<p>出现故障后的原则一定是：<strong>第一时间恢复，以尽可能地减少对业务的影响。</strong> 。</p>
<p>快速恢复的常见手段有：回滚到上一个版本、紧急修复、服务扩容、服务降级、摘机、重启等。如果涉及到数据库操作，最好是打开binlog日志，便于恢复数据。（或者需要人工找出调整的字段，进行纠错）。还有一些一旦发出去就无法收回的东西，比如说短信，还需要和波及的用户及时沟通。</p>
<p>在恢复故障的同时，还有一件很重要的事情不能遗漏，那就是：<strong>保留现场</strong>，方便后续进行根因分析。</p>
<h2> 2.4 事后</h2>
<ol>
<li>分析问题出现的原因，提交事故报告。</li>
</ol>
<div class="language-text line-numbers-mode" data-ext="text"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>基于事故报告进行分析，流程改进、监控改进。看实际情况，判断是否需要写一篇事故分析流程，对问题总结后，后续才会更加小心。同时需要提出合理的改进流程。并持续跟进改进流程的具体实施情况。</li>
</ol>
]]></content:encoded>
    </item>
    <item>
      <title>9.9-9.15 周记</title>
      <link>https://newzone.top/daily/2023-09-11.html</link>
      <guid>https://newzone.top/daily/2023-09-11.html</guid>
      <source url="https://newzone.top/rss.xml">9.9-9.15 周记</source>
      <description>9.9-9.15 周记 本周又要换一种格式来写，着实有点随心所欲了，不过也是在探索怎么写更容易让自己接受。 9.9日 最近三天带女朋友把Just Dance 给捡起来，果然还是得运动起来，运动的日子就会不会去想玩游戏或者是什么东西，感觉也可以把日常的学习也给捡起来了。加油，每天坚持。 今天看到戴锦华教授的一句话颇有感触，&amp;quot;我所受到的所有历史教育都是要教人倾听历史的无声处，而不是倾听大人物的洪亮言说&amp;quot;。目前国内大旗党反而占据言论主场， emmm .... 总想写点股票和经济相关的，但是感觉自己没总结好，还是算了。。。 本来想绑定之前买的一个国内的域名，不过还有备案等一堆麻烦事情，还是算了，后面再买个国外的域名吧。</description>
      <pubDate>Mon, 11 Sep 2023 15:47:15 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 9.9-9.15 周记</h1>
<p>本周又要换一种格式来写，着实有点随心所欲了，不过也是在探索怎么写更容易让自己接受。</p>
<h2> 9.9日</h2>
<ol>
<li>最近三天带女朋友把Just Dance 给捡起来，果然还是得运动起来，运动的日子就会不会去想玩游戏或者是什么东西，感觉也可以把日常的学习也给捡起来了。加油，每天坚持。</li>
<li>今天看到戴锦华教授的一句话颇有感触，"我所受到的所有历史教育都是要教人倾听历史的无声处，而不是倾听大人物的洪亮言说"。目前国内大旗党反而占据言论主场， emmm ....</li>
<li>总想写点股票和经济相关的，但是感觉自己没总结好，还是算了。。。</li>
<li>本来想绑定之前买的一个国内的域名，不过还有备案等一堆麻烦事情，还是算了，后面再买个国外的域名吧。</li>
</ol>
]]></content:encoded>
    </item>
    <item>
      <title>9.2-9.8周记</title>
      <link>https://newzone.top/daily/2023-09-08.html</link>
      <guid>https://newzone.top/daily/2023-09-08.html</guid>
      <source url="https://newzone.top/rss.xml">9.2-9.8周记</source>
      <description>9.2-9.8 周记 一周已经过去,不管是忙忙碌碌，还是无所作为，反正时间已经过去了，寿命-7天。 运动 运动是本周最为尴尬的类目，上周六雄心壮志制定了一周的健身计划。今天反过来一看emm... 9.3 跑步一次，腹肌轮 0 ， 俯卧撑 0 体重管理失败,下班回去以后还是吃了不少的碳水 陪女朋友下楼散步三次，勉强也算运动了吧。。 学习 英语：坚持背单词5天，周末只打卡没有背单词。听力还是每天坚持听完一个短视频，本周午饭后增加了 口语 的环节。 代码 : 代码方面0提升，懒惰了不少，不过还是找了一些AI模型玩了一下，在huggleface和modelscope上都有体验，modelscope关于视频方面的模型太少了，现在视频方面的模型都不太行吗？还是单纯国内是这样。 算法 ：算法抽空开始继续做起来，重刷了 排序、递归 的一些常见题目，手生了。</description>
      <pubDate>Fri, 08 Sep 2023 10:53:10 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 9.2-9.8 周记</h1>
<p>一周已经过去,不管是忙忙碌碌，还是无所作为，反正时间已经过去了，寿命-7天。</p>
<h2> 运动</h2>
<p>运动是本周最为尴尬的类目，上周六雄心壮志制定了一周的健身计划。今天反过来一看emm...</p>
<ol>
<li>9.3 跑步一次，腹肌轮 0 ， 俯卧撑 0</li>
<li><strong>体重管理</strong>失败,下班回去以后还是吃了不少的碳水</li>
<li>陪女朋友下楼散步三次，勉强也算运动了吧。。</li>
</ol>
<h2> 学习</h2>
<ol>
<li><strong>英语</strong>：坚持背单词5天，周末只打卡没有背单词。听力还是每天坚持听完一个短视频，本周午饭后增加了 口语 的环节。</li>
<li><strong>代码</strong> : 代码方面0提升，懒惰了不少，不过还是找了一些AI模型玩了一下，在huggleface和modelscope上都有体验，modelscope关于视频方面的模型太少了，现在视频方面的模型都不太行吗？还是单纯国内是这样。</li>
<li><strong>算法</strong> ：算法抽空开始继续做起来，重刷了 排序、递归 的一些常见题目，手生了。</li>
</ol>
<h2> 生活</h2>
<ol>
<li>对博客重新改造了一下，主要是排版和图标方面，实在是不喜欢加图标，太丑了。本想做成导航栏和侧边栏联动，无奈前端玩不转，就这样吧。</li>
<li>第二个就是谈谈最近主机区闹得沸沸扬扬的超级小桀事件。说实话，我个人是觉得超级小桀还是蛮好的，现在都在批他说谎、口嗨....emm。说实话看了这么多年，没觉得他是这样子的一个人。结果各种反转，挺复杂吧。反正我也不是啥死忠粉，还是继续看下饭视频吧</li>
<li>这两年来，局势越来越差，越来越看不清前方的道路，想做一个缩头乌龟，逃回学校的象牙塔继续学习深造。看着朋友在国外读研，感觉她的生活状态和国内完全不一样了，朋友圈很relax，整个人看着都是那种比较放松，但是又在努力进取的状态，真羡慕。</li>
<li>打算开始学习obsidian笔记，在互联网呆的时间越久，就越加不敢相信各种云端存储，没有一个是正经公司。还是做好数据迁移吧。</li>
</ol>
<h2> 理财</h2>
<ol>
<li>股票：目前持仓 京东、小鹏、中国看涨ETF、法拉第未来，卖出sea。<br>
中国看涨ETF 现在还有一点盈利，也想出掉了。看目前美元不断拉伸的情况，出逃的外资会越来越多。 京东现在是啥逻辑，看不明白了 ，为啥会一直在跌， 本以为他季报会比较好，结果股价却是一直在走弱。 小鹏还是比较看好的，中国还是一篇蓝海。继续持有。而且和滴滴联手以后，以后滴滴司机的车型应该会往这边去转。</li>
</ol>
]]></content:encoded>
    </item>
    <item>
      <title>2023-09-07日记</title>
      <link>https://newzone.top/daily/2023-09-07.html</link>
      <guid>https://newzone.top/daily/2023-09-07.html</guid>
      <source url="https://newzone.top/rss.xml">2023-09-07日记</source>
      <description>2023-09-07记 今天对博客进行进一步的整理，感觉之前的太乱了，而且实在是喜欢不起来图标。我觉得好丑啊。。。。本想换成导航栏和侧边栏能联动的，找了半天vuepress的设置方式，奈何对前端不太了解，不会改这玩意，emmmm 就这样吧，重要的是内容（可能内容也一般。。）。</description>
      <pubDate>Thu, 07 Sep 2023 09:49:00 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 2023-09-07记</h1>
<p>今天对博客进行进一步的整理，感觉之前的太乱了，而且实在是喜欢不起来图标。我觉得好丑啊。。。。本想换成导航栏和侧边栏能联动的，找了半天vuepress的设置方式，奈何对前端不太了解，不会改这玩意，emmmm 就这样吧，重要的是内容（可能内容也一般。。）。</p>
]]></content:encoded>
    </item>
    <item>
      <title>电话会议</title>
      <link>https://newzone.top/english/work/meeting.html</link>
      <guid>https://newzone.top/english/work/meeting.html</guid>
      <source url="https://newzone.top/rss.xml">电话会议</source>
      <description>minutes an official written record of a meeting. someone write or type everything that is discused during the meeting. eg. If you ever miss a meeting ,you can ask for the minutes from the previous meeting. agenda A list of things that will be talked about during a meeting.</description>
      <category>工作英语</category>
      <pubDate>Fri, 24 Mar 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2> minutes</h2>
<blockquote>
<p>an official written record of a meeting.<br>
someone write or type everything that is discused during the meeting.</p>
</blockquote>
<p>eg. If you ever miss a meeting ,you can ask for the minutes from the previous meeting.</p>
<h2> agenda</h2>
<blockquote>
<p>A list of things that will be talked about during a meeting.</p>
</blockquote>
<p>eg. On the agenda , we will talk about how to cut costs and about new procedures.</p>
<h2> clarify</h2>
<blockquote>
<p>make something clear and easy to understand.</p>
</blockquote>
<p>eg. Asking for someone to clarify something for you is okay to do in a meeting.</p>
<h2> HQ</h2>
<blockquote>
<p>headquarters. it is the main office of a company.</p>
</blockquote>
<p>eg. There are McDonalds all over the world , but their main office  or their HQ is in Chicago.</p>
<h2> indicate</h2>
<blockquote>
<p>to show or point out something.<br>
eg.</p>
</blockquote>
<ol>
<li>
<p>During a meeting, you may need someone to indicate specific details or imformation.Sometimes when you are looking at papers   you may not know what page they are looking at,so you need to indicate which page they are on.</p>
</li>
<li>
<p>They indicate where i made a mistake in a report.</p>
</li>
</ol>
<h2> carry on with/without</h2>
<blockquote>
<p>do something with/without sb<br>
eg. Please carry on without me . i'm so sick and can't come.</p>
</blockquote>
<h2> speak up</h2>
<blockquote>
<p>if you ask someone speak up . You are asking them to speak more loudly.</p>
</blockquote>
<p>eg.Can you speak up? We can't hear you .</p>
<h2> get down to business</h2>
<blockquote>
<p>start to do something that needs to be <a href="http://done.it" target="_blank" rel="noopener noreferrer">done.it</a> means to be serious about doing something .</p>
</blockquote>
<p>eg. Get down to business and messing around at work.</p>
<h2> sorry to interrupt.</h2>
<blockquote>
<p>if you having something important to add when someone is talking during a meeting.</p>
</blockquote>
<h2> as you all may know ..</h2>
<blockquote>
<p>before you say something  that everyone in the meeting should know.<br>
eg. As you all may know , we are switching office locations next month.</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>2023-09-05日记</title>
      <link>https://newzone.top/daily/2023-09-05.html</link>
      <guid>https://newzone.top/daily/2023-09-05.html</guid>
      <source url="https://newzone.top/rss.xml">2023-09-05日记</source>
      <description>2023-09-05记 今天是随心记的第一次落笔，虽然开了坑，但是最近事情比较多（都是借口）。更真实的是，自己没有记日记的习惯，心里总是想着这件事，但是emm，不能落到实处。 今天负责的项目上线，4点多以后事情就比较少了。突然想起这件事情来，抽空放松一下。 工作 这两周负责把控当前项目进度，俗称owner。我一直在思考为什么互联网公司逐渐淡化“项目经理”的角色，而更倾向于让每个人都有可能成为项目经理。我在之前的公司，项目经理是需要专业资格认证的。我现在的任务包括入职培训、开发和项目管理，有时我会感到困惑，为什么这些事情总是一起涌来。其实，我认为我应该能够同时处理开发和项目管理，但入职培训的通知提前三四天就来了，接着我连续三天都在全身心投入入职培训，然后每天晚上还要继续工作。这确实有些累人。但这也是我第一次作为项目负责人，也是我在这家公司的第一次正式上线。我从这次经历中学习到了很多，也了解了很多流程。我明白了，应该预留一两天的时间来应对风险，以防有同事突然有事影响项目进度。 现在在这家公司，做事感觉很乱，但是貌似又有一些章法。感觉就是，这里打一枪，效果不好，然后马上换个地方再打一枪。 然后研发部门的老大还要要求每个月去复盘一次，看看你当前做的事情有没有价值，然后又要基于每个月做事的价值去考核你的绩效。emmm， 这谁还愿意做长周期的事情，每个月写一个小工具，绩效杠杠的。 当我和同事一起开发项目的时候，我深感互联网大厂的同事更加靠谱。他们能做到很多事情都不需要我亲自操心，而且设计和开发都能达到预期效果。而我现在的同事，虽然他们似乎什么都懂一些，但实际操作起来，却常常给人眼高手低的感觉。比如说，他们在 MySQL 表上增加索引，结果却没有按预期执行。不过他们的协调能力很强，我需要从他们身上学习。</description>
      <pubDate>Thu, 07 Sep 2023 05:36:53 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 2023-09-05记</h1>
<p>今天是随心记的第一次落笔，虽然开了坑，但是最近事情比较多（都是借口）。更真实的是，自己没有记日记的习惯，心里总是想着这件事，但是emm，不能落到实处。<br>
今天负责的项目上线，4点多以后事情就比较少了。突然想起这件事情来，抽空放松一下。</p>
<h2> 工作</h2>
<ol>
<li>
<p>这两周负责把控当前项目进度，俗称owner。我一直在思考为什么互联网公司逐渐淡化“项目经理”的角色，而更倾向于让每个人都有可能成为项目经理。我在之前的公司，项目经理是需要专业资格认证的。我现在的任务包括入职培训、开发和项目管理，有时我会感到困惑，为什么这些事情总是一起涌来。其实，我认为我应该能够同时处理开发和项目管理，但入职培训的通知提前三四天就来了，接着我连续三天都在全身心投入入职培训，然后每天晚上还要继续工作。这确实有些累人。但这也是我第一次作为项目负责人，也是我在这家公司的第一次正式上线。我从这次经历中学习到了很多，也了解了很多流程。我明白了，应该预留一两天的时间来应对风险，以防有同事突然有事影响项目进度。</p>
</li>
<li>
<p>现在在这家公司，做事感觉很乱，但是貌似又有一些章法。感觉就是，这里打一枪，效果不好，然后马上换个地方再打一枪。 然后研发部门的老大还要要求每个月去复盘一次，看看你当前做的事情有没有价值，然后又要基于每个月做事的价值去考核你的绩效。emmm， 这谁还愿意做长周期的事情，每个月写一个小工具，绩效杠杠的。</p>
</li>
<li>
<p>当我和同事一起开发项目的时候，我深感互联网大厂的同事更加靠谱。他们能做到很多事情都不需要我亲自操心，而且设计和开发都能达到预期效果。而我现在的同事，虽然他们似乎什么都懂一些，但实际操作起来，却常常给人眼高手低的感觉。比如说，他们在 MySQL 表上增加索引，结果却没有按预期执行。不过他们的协调能力很强，我需要从他们身上学习。</p>
</li>
</ol>
<h2> 生活</h2>
<ol>
<li>锻炼。 自从开了随心记以后，就开始锻炼身体，本想每天能够记录一下自己锻炼的历程，结果没落笔，但是每天坚持锻炼了，也算一个比较漂亮的开端。 前一段时间跑几百米就需要歇一下，现在能跑三公里不歇脚了。嗯，很大的进步。争取做到一口气跑五公里。 <strong>一定要注意运动完的拉伸运动，多用筋膜枪敲一敲肌肉！！</strong></li>
</ol>
<blockquote>
<p>谈到筋膜枪，感觉是今年买的比较值的东西了。之前体验过小一点的筋膜枪，感觉就是在挠痒痒，屁用没有。 偶然有一次在小米店里体验到了专业级的筋膜枪，敲起来真舒服，回家纠结了两天，还是入手了。现在基本上天天都在用，爽哦。</p>
</blockquote>
<ol start="2">
<li>
<p>长期精力减退。 感觉有很长时间了，做爱提不起兴趣，游戏提不起兴趣，出去玩也提不起兴趣，之前坚持过的读书、看学习视频也提不起兴趣。印象最深的就是，突然想玩大表哥2，游戏买了，120g下了，还没打开图标，就泄了。。。花了大几十和几个小时的时间，卸载不到5分钟。感觉整个人都很矛盾，能坚持锻炼，却不能用大块时间来做自己想做的时间。这算是心理阳痿了吧。。。。</p>
</li>
<li>
<p>上周五女朋友被工作压垮了，回家以后抱着痛哭，在坚持了2个月的007以后终于提辞职了（工资也很低），说实话我都搞不懂她为啥能坚持这么久，实在是太坚强了。做的是插画售课，简单来说就是运营各个平台，吸引来粉丝以后卖插画课。一周视频自己拍+剪、直播的图也得画，每天早上醒来就在看数据，一直忙到晚上直播结束，基本上这一天也就过去了。心疼。。</p>
</li>
<li>
<p>坚持学英语也有几个月了，但是感觉效果不太明显，之前一直在背单词，最近调整了一下策略，多去学习生活、工作中的常用语和口语，努力提高自己的spoken English。</p>
</li>
</ol>
<p>一旦开始写就停不下来了，感觉有好多事情可以写。。。算了，阳痿了，不想写了。。。丢一张图作为结束吧，是我最喜欢的镰鼬。<br>
</p>
]]></content:encoded>
    </item>
    <item>
      <title>随心记开坑</title>
      <link>https://newzone.top/daily/summary.html</link>
      <guid>https://newzone.top/daily/summary.html</guid>
      <source url="https://newzone.top/rss.xml">随心记开坑</source>
      <description>随心记开坑 随心记是我脑子一热突然想的名字，恰如起名，这个栏目下将会是自己随时的有感而发，或者是某一天的一篇日记。我自己的表达能力比较弱，我会用到chatGPT帮我去美化、调整一些措辞，以此来打磨我的表达能力。 我喜欢的一个油管主 @MoneyXYZ曾分享了一个关于 用chatGPT去写日记/做笔记 的视频,可以将每日碎片化的事情和语言表述整理成一段完整的记录，并做出一定的分析。 然后自己脑子一热，觉得这是一个good idea，因此开了这个栏目，也是希望能够督促到自己去表达、梳理自己经历过的一些事情。</description>
      <pubDate>Thu, 24 Aug 2023 11:46:36 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 随心记开坑</h1>
<p>随心记是我脑子一热突然想的名字，恰如起名，这个栏目下将会是自己随时的有感而发，或者是某一天的一篇日记。我自己的表达能力比较弱，我会用到chatGPT帮我去美化、调整一些措辞，以此来打磨我的表达能力。</p>
<p>我喜欢的一个油管主 <a href="https://www.youtube.com/@MoneyXYZ" target="_blank" rel="noopener noreferrer">@MoneyXYZ</a>曾分享了一个关于 <a href="https://www.youtube.com/watch?v=ZRv0Z-M7NqM&amp;t=1s&amp;ab_channel=MoneyXYZ" target="_blank" rel="noopener noreferrer">用chatGPT去写日记/做笔记</a> 的视频,可以将每日碎片化的事情和语言表述整理成一段完整的记录，并做出一定的分析。 然后自己脑子一热，觉得这是一个good idea，因此开了这个栏目，也是希望能够督促到自己去表达、梳理自己经历过的一些事情。</p>
]]></content:encoded>
    </item>
    <item>
      <title>AI工具介绍</title>
      <link>https://newzone.top/posts/AI-tools.html</link>
      <guid>https://newzone.top/posts/AI-tools.html</guid>
      <source url="https://newzone.top/rss.xml">AI工具介绍</source>
      <description>AI工具介绍 随着当前网络数据量的爆发，基于大数据的AI，现在越来越智能了。尤其是chatgpt的推出，AI使用越来越广泛。 本文主要介绍当前广泛使用的AI工具。 chatGPT ChatGPT是一种基于Transformer架构的深度学习模型，可以对语言进行建模和生成。它可以处理问答、对话生成、文本生成等多种任务，可以认为是当前最为智能的AI工具。甚至有人将其称为新时代的奠基者，我们将从互联网时代进入AI时代。 当前chatGPT有两种使用方法： 通过官网使用。 通过chatGPT - API 使用</description>
      <category>行业追踪</category>
      <pubDate>Sat, 18 Mar 2023 11:20:09 GMT</pubDate>
      <content:encoded><![CDATA[<h1> AI工具介绍</h1>
<p>随着当前网络数据量的爆发，基于大数据的AI，现在越来越智能了。尤其是chatgpt的推出，AI使用越来越广泛。</p>
<p>本文主要介绍当前广泛使用的AI工具。</p>
<h2> chatGPT</h2>
<p>ChatGPT是一种基于Transformer架构的深度学习模型，可以对语言进行建模和生成。它可以处理问答、对话生成、文本生成等多种任务，可以认为是当前最为智能的AI工具。甚至有人将其称为新时代的奠基者，我们将从互联网时代进入AI时代。</p>
<p>当前chatGPT有两种使用方法：</p>
<ol>
<li>通过<a href="https://chat.openai.com/" target="_blank" rel="noopener noreferrer">官网</a>使用。</li>
<li>通过chatGPT - API 使用</li>
</ol>
<p>每个账号注册好以后，都有18美元的免费体验机会，这个还是相当给力的。</p>
<p>这里就不讲他如何注册了，当前网络上也有很多的注册方法，例如：</p>
<p><a href="https://juejin.cn/post/7198097078005841980" target="_blank" rel="noopener noreferrer">ChatGPT保姆级教程，一分钟学会使用ChatGPT</a></p>
<h3> 使用方法：</h3>
<ol>
<li>
<p>如何更好的使用chatGPT呢，有些人在使用时，可能觉得这个ai好智障，怎么答非所问的。其实你需要给他一个“人设” 。 比如，你需要告诉chatGPT说假设你是一个精研开发多年的JAVA工程师，擅长微服务架构。后续再进行提问时，答案会更加精准。</p>
<p><a href="%5B%5D(https://github.com/colania/awesome-chatgpt-prompts)">已经整理好的chatGPT人设语句</a></p>
<p><a href="https://github.com/colania/awesome-chatgpt-prompts-zh" target="_blank" rel="noopener noreferrer">中文调教指南</a></p>
</li>
<li>
<p>基于chatGPT的比较好用的二次开发工具。</p>
<ol>
<li>
<p><a href="https://github.com/colania/ChatGPT-Telegram-Workers" target="_blank" rel="noopener noreferrer">tg机器人接入chatGPT-API，且不需要提供服务器</a></p>
</li>
<li>
<p><a href="https://github.com/colania/chatgpt-web" target="_blank" rel="noopener noreferrer">用 Express 和 Vue3 搭建的 ChatGPT 演示网页,需要服务器，需要翻墙</a></p>
</li>
</ol>
</li>
</ol>
<h2> 代码</h2>
<p>自从ChatGPT发布以后，各种垂直领域的AI工具也被相继开发出来。作为软件开发，最先接触到的代码编写工具。</p>
<h3> <a href="https://www.cursor.so/" target="_blank" rel="noopener noreferrer">cursor.so</a></h3>
<p>尝试以后还是挺好用的，可以很容易的做一些需求，比如说算法题，还可以指定他的创作语言，哈哈哈哈。（字节大危机）</p>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320215027345.png" alt="image-20230320215027345" tabindex="0" loading="lazy"><figcaption>image-20230320215027345</figcaption></figure>
<h3> <a href="https://www.warp.dev/" target="_blank" rel="noopener noreferrer">Warp</a></h3>
<p>warp其实是一个比较新的一个为开发人员打造的Terminal工具。</p>
<p>Warp解决的痛点，是通过减少配置、方便输入，优化输出，增加常用命令行自动提示(通过fig)，方便查看历史记录，可定义流程，等等实现的。（这些官方可以找到，还是挺好用的）</p>
<p>今天发现Warp也接入了chatGPT，每天有100次的体验机会。</p>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320215533735.png" alt="image-20230320215533735" tabindex="0" loading="lazy"><figcaption>image-20230320215533735</figcaption></figure>
<h2> 文档</h2>
<h3> <a href="https://www.notion.so/product/ai" target="_blank" rel="noopener noreferrer">NotionAI</a></h3>
<p>Notion AI可以用来写文案、写策划、写表格、写视频脚本、帮忙读论文做总结等，只要涉及到文档相关的事情，他都会有很亮眼的发挥，可惜的是免费体验机会太少了，只有20次。（可以找某宝增加使用机会）</p>
<p>我在写一些文档的时候，很大一部分基础部分都会用他进行生成。</p>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320220639491.png" alt="image-20230320220639491" tabindex="0" loading="lazy"><figcaption>image-20230320220639491</figcaption></figure>
<h3> office copilot</h3>
<p>office copilot是我最为期待的一个工具。对外宣传可以<strong>协助用户生成文档、电子邮件、演示文稿和更多内容</strong>，而且演示效果也确实不错。但是现在还没有机会体验到。而且会接入到微软的所有office工具中，未来可期。</p>
<blockquote>
<p>With Copilot, you’re always in control. You decide what to keep, modify or discard. Now, you can be more creative in Word, more analytical in Excel, more expressive in PowerPoint, more productive in Outlook and more collaborative in Teams.</p>
</blockquote>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/2ndary-image-for-March-16_.webp" alt="2ndary-image-for-March-16_" tabindex="0" loading="lazy"><figcaption>2ndary-image-for-March-16_</figcaption></figure>
<h2> 绘画工具(只介绍通过网络提供服务的)</h2>
<p>AI绘画在人工智能领域中大放异彩，现在只要你浏览互联网，基本上都能发现各种AI画画，而且质量越来越高，越来越逼真，有很多创作已经分不清是照片还是AI绘画。</p>
<h3> <a href="https://openai.com/product/dall-e-2" target="_blank" rel="noopener noreferrer">DALL-E 2</a></h3>
<p>「DALL-E 2」，名称合成自超现实主义艺术家“萨尔瓦多·达利(Salvador Dalí)”和《机器人总动员》的英文名“WALL-E”。 也是OPEN-AI的作品之一。</p>
<figure><img src="https://pic2.zhimg.com/v2-360acc4244e461369d92861fc23c60d9_b.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure>
<h3> <a href="https://www.midjourney.com" target="_blank" rel="noopener noreferrer">Midjourney</a></h3>
<p>Midjourney AI是架设在discord上一个AI工具，使用起来也很方便，可以不断的进行优化。生成效果真的不错。</p>
<p>我在使用时会通过chatGPT将我想要绘画的内容以Midjourney 能够识别的词提取关键字，然后再将这些关键词传给Midjourney进行绘画，效果还是不错滴。而且在频道中有很多大佬分享他们的AI创作。</p>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320221218533.png" alt="image-20230320221218533" tabindex="0" loading="lazy"><figcaption>image-20230320221218533</figcaption></figure>
<h3> <a href="https://huggingface.co/spaces/stabilityai/stable-diffusion" target="_blank" rel="noopener noreferrer">StableDiffusion</a></h3>
<p>“Stable Diffusion”是开源图像合成模型，这个 AI 作画工具几乎可以模仿任何视觉风格，如果你输入一个描述性短语，图像就会像魔术一样出现在你的屏幕上。 使用这个工具时，最重要的是找到他能够识别的关键词。</p>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320221727648.png" alt="image-20230320221727648" tabindex="0" loading="lazy"><figcaption>image-20230320221727648</figcaption></figure>
<h2> 国内的AI工具</h2>
<h3> 文言一心</h3>
<p>虽然百度文言一心的发布会直播让人尬的直抠脚。没有进行现场演示，只敢放录播不敢实际操作，说的难听一点，<a href="https://www.zhihu.com/search?q=%E8%B4%BE%E8%B7%83%E4%BA%AD&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2939535808%7D" target="_blank" rel="noopener noreferrer">贾跃亭</a>如果是PPT造车的，那<a href="https://www.zhihu.com/search?q=%E6%9D%8E%E5%BD%A6%E5%AE%8F&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2939535808%7D" target="_blank" rel="noopener noreferrer">李彦宏</a>就是PPT造了个AIGC的大模型。</p>
<p>在实际体验的时候，确实效果不尽如人意。但是很很明确的是，这个一定是百度自研的，而不是chatGPT套壳软件。在当前世界脱钩的情况下，在AI方面，拥有一款国产自主的工具也是会有很广泛的市场。目前来看，文言一心相比chatGPT来说也就落后一两年，希望能够不断进步，查缺补漏。</p>
<p>有人说发布会没开多久，股民直接就用脚投票了，但是后面几天的连续猛涨，还是能看出来市场很看好他的未来。</p>
]]></content:encoded>
      <enclosure url="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230320215027345.png" type="image/png"/>
    </item>
    <item>
      <title>ConcurrentHashMap 源码分析</title>
      <link>https://newzone.top/posts/ConcurrentHashMap-analyse.html</link>
      <guid>https://newzone.top/posts/ConcurrentHashMap-analyse.html</guid>
      <source url="https://newzone.top/rss.xml">ConcurrentHashMap 源码分析</source>
      <description>ConcurrentHashMap类图 image-20230321163458604 根据类图看出来，ConcurrentHashMap实现了 Map 接口，继承了 AbstractMap 抽象类，所以大多数的方法也都和我们平时用到的HashMap是相同的，HashMap 有的方法，ConcurrentHashMap 几乎都有，所以当我们需要从 HashMap 切换到 ConcurrentHashMap 时，无需关心两者之间的兼容问题。</description>
      <category>coding</category>
      <pubDate>Sat, 18 Mar 2023 11:29:10 GMT</pubDate>
      <content:encoded><![CDATA[<h2> ConcurrentHashMap类图</h2>
<figure><img src="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230321163458604.png" alt="image-20230321163458604" tabindex="0" loading="lazy"><figcaption>image-20230321163458604</figcaption></figure>
<p>根据类图看出来，ConcurrentHashMap实现了 Map 接口，继承了 AbstractMap 抽象类，所以大多数的方法也都和我们平时用到的HashMap是相同的，HashMap 有的方法，ConcurrentHashMap 几乎都有，所以当我们需要从 HashMap 切换到 ConcurrentHashMap 时，无需关心两者之间的兼容问题。</p>
<h2> <strong>ConcurrentHashMap几个重要概念</strong></h2>
<h3> 重要参数</h3>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 重要结构</h3>
<ol>
<li>Node&lt;K,V&gt;,这是构成每个元素的基本类。</li>
</ol>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>TreeNode构造树的节点</li>
</ol>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>TreeBin 不保存用户键或值，而是指向 TreeNode 及其根的列表，由TreeBin完成对红黑树的包装。他们还维护一个读写锁。</li>
</ol>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 重要锁</h3>
<ol>
<li><strong>Unsafe CAS</strong></li>
</ol>
<p>在ConcurrentHashMap中，随处可见**<strong>等类似的方法。这个算法的基本思想就是不断地去比较当前内存中的变量值与你指定的一个变量值是否相等，如果相等，则接受你指定的修改的值，否则拒绝你的操作。与我们常见的</strong>乐观锁**类似。</p>
<blockquote>
<p>Unsafe是位于sun.misc包下的一个类，主要提供一些用于执行低级别、不安全操作的方法，如直接访问系统内存资源、自主管理内存资源等，这些方法在提升Java运行效率、增强Java语言底层资源操作能力方面起到了很大的作用。但由于Unsafe类使Java语言拥有了类似C语言指针一样操作内存空间的能力，这无疑也增加了程序发生相关指针问题的风险。在程序中过度、不正确使用Unsafe类会使得程序出错的概率变大，使得Java这种安全的语言变得不再“安全”</p>
</blockquote>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>
<p>synchronized</p>
<p><em>synchronized</em>是Java中的关键字，是一种同步锁.</p>
</li>
</ol>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 方法拆解</h2>
<h3> 1. 构造方法</h3>
<p>​	在任何一个构造方法中，都没有对存储Map元素Node的table变量进行初始化。而是在第一次put操作的时候在进行初始化。</p>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 2. PUT</h3>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 3. ConcurrentHashMap的扩容详解</h3>
<ul>
<li>在同一个节点的个数超过8个的时候，会调用treeifyBin方法来看看是扩容还是转化为一棵树</li>
<li>同时在每次添加完元素的addCount方法中，也会判断当前数组中的元素是否达到了sizeCtl的量，如果达到了的话，则会进入transfer方法去扩容</li>
</ul>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在tryPresize方法中，并没有加锁，允许多个线程进入，如果数组正在扩张，则当前线程也去帮助扩容。</p>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>扩容操作：</p>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用<code>fn&amp;n</code>可以快速把链表中的元素区分成两类，A类是hash值的第X位为0，B类是hash值的第X位为1，并通过<code>lastRun</code>记录最后需要处理的节点，A类和B类节点可以分散到新数组的槽位14和30中，在原数组的槽位中，蓝色节点第X为0，红色节点第X为1，把链表拉平显示如下：</p>
<figure><img src="https://upload-images.jianshu.io/upload_images/2184951-5e60c316353e8a8f.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure>
<ol>
<li>
<p>通过遍历链表，记录<code>runBit</code>和<code>lastRun</code>，分别为1和节点6，所以设置<code>hn</code>为节点6，<code>ln</code>为null；</p>
</li>
<li>
<p>重新遍历链表，以<code>lastRun</code>节点为终止条件，根据第X位的值分别构造ln链表和hn链表：</p>
<ol>
<li>ln：</li>
</ol>
<figure><img src="https://upload-images.jianshu.io/upload_images/2184951-00e946e7b274a8af.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240" alt="ln链" tabindex="0" loading="lazy"><figcaption>ln链</figcaption></figure>
<ol start="2">
<li>
<p>Hn:</p>
<figure><img src="https://upload-images.jianshu.io/upload_images/2184951-bcc2a0170ec52d9d.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure>
</li>
</ol>
</li>
<li>
<p>通过CAS把ln链表设置到新数组的i位置，hn链表设置到i+n的位置；</p>
</li>
</ol>
<p>如果该槽位是红黑树结构，则构造树节点<code>lo</code>和<code>hi</code>，遍历红黑树中的节点，同样根据<code>hash&amp;n</code><a href="http://lib.csdn.net/base/datastructure" target="_blank" rel="noopener noreferrer">算法</a>，把节点分为两类，分别插入到<code>lo</code>和<code>hi</code>为头的链表中，根据<code>lo</code>和<code>hi</code>链表中的元素个数分别生成<code>ln</code>和<code>hn</code>节点，其中<code>ln</code>节点的生成逻辑如下：</p>
<ol>
<li>如果<code>lo</code>链表的元素个数小于等于<code>UNTREEIFY_THRESHOLD</code>，默认为6，则通过<code>untreeify</code>方法把树节点链表转化成普通节点链表；</li>
<li>否则判断<code>hi</code>链表中的元素个数是否等于0：如果等于0，表示<code>lo</code>链表中包含了所有原始节点，则设置原始红黑树给<code>ln</code>，否则根据<code>lo</code>链表重新构造红黑树。</li>
<li>最后，同样的通过CAS把<code>ln</code>设置到新数组的<code>i</code>位置，<code>hn</code>设置到<code>i+n</code>位置。</li>
</ol>
<p>​</p>
<h3> 4. GET</h3>
<div class="language-java line-numbers-mode" data-ext="java"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
      <enclosure url="https://bard-note.oss-cn-hangzhou.aliyuncs.com/img/image-20230321163458604.png" type="image/png"/>
    </item>
  </channel>
</rss>